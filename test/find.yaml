#
# Find transducer
#

---
name: strOnList
test: compile src, find fits:predicate, verify pog:expect
predicate: sys.Str
src: |
  List {
    "A"
    Int "123"
    sys.Str "C"
    Date "2023-01-04"
    {}
  }
expect: |
  sys.List {
    sys.Str "A"
    sys.Str "C"
  }
---
name: strOnDict
test: compile src, find fits:predicate, verify pog:expect
predicate: sys.Str
src: |
  {
    "A"
    Int "123"
    sys.Str "C"
    Date "2023-01-04"
    {}
  }
expect: |
  sys.Dict {
    sys.Str "A"
    sys.Str "C"
  }
---
name: numbers
test: compile src, find fits:predicate, verify pog:expect
predicate: sys.Number
src: |
  List {
    "A"
    Int "123"
    sys.Str "C"
    Date "2023-01-04"
    {}
    Float "2.0"
    sys.Number "50kW"
  }
expect: |
  sys.List {
    sys.Int "123"
    sys.Float "2.0"
    sys.Number "50kW"
  }
---
name: dictMarker
test: compile src, find fits:predicate, verify pog:expect
predicate: |
  {meter}
src: |
  List {
    {dis:"A", boiler},
    {dis:"B", meter},
    {dis:"C", meter},
    {dis:"D", tank},
  }
expect: |
  sys.List {
    sys.Dict {
      dis: sys.Str "B"
      meter
    }
    sys.Dict {
      dis: sys.Str "C"
      meter
    }
  }
---





